<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors Lizard Spock - Emoji Edition</title>
  <style>
    :root {
      --background-color: #131419;
      --box-shadow-color-1: rgba(0, 0, 0, .51);
      --box-shadow-color-2: rgba(255, 255, 255, .05);
      --border-color: none;
      --text-color-primary: #0081cb;
      --text-color-secondary: rgba(255, 255, 255, 0.1);
      --text-shadow-color: #000;
      --text-shadow-color-secondary: #000;
      --hover-border-color: red;
      --reel-border-color: #131419;
    }

    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
      background-color: var(--background-color);
      user-select: none;
      flex-direction: column;
      height: 90vh;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 400px;
      background-color: var(--background-color);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 8px 8px 15px var(--box-shadow-color-1), -8px -8px 15px var(--box-shadow-color-2);
      border: 2px solid var(--border-color);
      color: var(--text-color-primary);
    }

    .player-choices {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .choice-btn {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 15px;
      background-color: var(--background-color);
      font-size: 1.5em;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 5px 5px 10px var(--box-shadow-color-1), -5px -5px 10px var(--box-shadow-color-2);
      border: 3px solid var(--border-color);
    }

    .choice-btn:hover {
      box-shadow: inset 5px 5px 10px var(--box-shadow-color-1), inset -5px -5px 10px var(--box-shadow-color-2);
      border: 4px solid var(--hover-border-color);
    }

    .game-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    .slot-rules-container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      margin-top: 20px;
    }

    #slot {
      font-size: 50px;
      margin: 0 20px;
      height: 80px;
      width: 80px;
      overflow: hidden;
      background-color: var(--background-color);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 5px 5px 10px var(--box-shadow-color-1), -5px -5px 10px var(--box-shadow-color-2);
      border: 4px solid var(--border-color);
    }

    .reel {
      height: 80px;
      width: 80px;
      overflow: hidden;
      text-align: center;
      box-sizing: border-box;
      background-color: var(--background-color);
      position: relative;
      border-radius: 10px;
      box-shadow: inset 2px 2px 5px var(--box-shadow-color-1), inset -2px -2px 5px var(--box-shadow-color-2);
      border: 1px solid var(--reel-border-color);
    }

    .reel-inner {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      transition: top 3s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    .emoji {
      height: 80px;
      line-height: 80px;
    }

    .results {
      text-align: center;
      font-size: 1.3em;
      min-height: 40px;
    }

    .scores {
      display: flex;
      justify-content: space-between;
      width: 30%;
      font-size: 1em;
      background-color: var(--background-color);
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: inset 2px 2px 5px var(--box-shadow-color-1), inset -2px -2px 5px var(--box-shadow-color-2);
      border: 2px solid var(--border-color);
    }

    h3 {
      text-align: center;
      color: var(--text-color-secondary:);
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px var(--text-shadow-color);
    }

    h4 {
      text-align: center;
      color: var(--text-color-secondary);
      margin-bottom: 20px;
      text-shadow: 1px 1px 0px var(--text-shadow-color-secondary);
    }

    .rules {
      margin: 0 20px;
      text-align: left;
      background-color: var(--background-color);
      border-radius: 10px;
      padding: 10px;
      align-items: center;
      box-shadow: inset 2px 2px 5px var(--box-shadow-color-1), inset -2px -2px 5px var(--box-shadow-color-2);
      border: 2px solid var(--border-color);
    }
  </style>

</head>

<body>
  <div class="container">
    <h3>Rock Paper Scissors Lizard Spock</h3>
    <div class="player-choices">
      <button class="choice-btn" data-choice="rock">‚úä</button>
      <button class="choice-btn" data-choice="paper">‚úã</button>
      <button class="choice-btn" data-choice="scissors">‚úåÔ∏è</button>
      <button class="choice-btn" data-choice="lizard">ü§è</button>
      <button class="choice-btn" data-choice="spock">üññ</button>
    </div>
    <div class="game-area">
      <div class="slot-rules-container">
        <div class="rules">
          <span>‚úä ¬ª ‚úåÔ∏è ü§è</span><br>
          <span>‚úã ¬ª ‚úä üññ</span><br>
          <span>‚úåÔ∏è ¬ª ‚úã ü§è</span><br>
          <span>ü§è ¬ª üññ ‚úã</span><br>
          <span>üññ ¬ª ‚úåÔ∏è ‚úä</span>
        </div>
        <div id="slot">
          <div class="reel">
            <div class="reel-inner"></div>
          </div>
        </div>
      </div>
      <div class="results">
        <p>Results</p>
      </div>
      <div class="scores">
        <p>üë§<span id="player-score">0</span></p>
        <p>üíª<span id="computer-score">0</span></p>
      </div>
    </div>
  </div>
  <div class="footer">
    <h4>Created by Marc Sonne Dahl ¬© 2024</h4>
  </div>

  <script>
    const choices = {
      rock: {
        emoji: '‚úä',
        wins: ['scissors', 'lizard']
      },
      paper: {
        emoji: '‚úã',
        wins: ['rock', 'spock']
      },
      scissors: {
        emoji: '‚úåÔ∏è',
        wins: ['paper', 'lizard']
      },
      lizard: {
        emoji: 'ü§è',
        wins: ['paper', 'spock']
      },
      spock: {
        emoji: 'üññ',
        wins: ['scissors', 'rock']
      }
    };
    const choiceButtons = document.querySelectorAll('.choice-btn');
    const resultsDiv = document.querySelector('.results p');
    const playerScoreSpan = document.getElementById('player-score');
    const computerScoreSpan = document.getElementById('computer-score');
    const reelInner = document.querySelector('.reel-inner');
    let playerScore = 0;
    let computerScore = 0;
    let isSpinning = false;

    function createReelContent() {
      reelInner.innerHTML = '';
      const reelContent = [];
      for (let i = 0; i < 30; i++) {
        const emoji = Object.values(choices)[Math.floor(Math.random() * 5)].emoji;
        reelContent.push(emoji);
      }
      // Duplicate the content to create a seamless loop
      reelInner.innerHTML = reelContent.concat(reelContent).map(emoji => `<div class="emoji">${emoji}</div>`).join('');
    }
    createReelContent();
    choiceButtons.forEach(button => {
      button.addEventListener('click', () => {
        if (!isSpinning) {
          const playerChoice = button.dataset.choice;
          spinAndPlay(playerChoice);
        }
      });
    });

    function spin(duration) {
      return new Promise((resolve) => {
        const itemHeight = 80;
        const totalItems = reelInner.children.length / 2; // We duplicated the content
        // Calculate a random stopping position
        const stopPosition = Math.floor(Math.random() * totalItems);
        const spinDistance = (totalItems + stopPosition) * itemHeight;
        reelInner.style.transition = `top ${duration}ms cubic-bezier(0.25, 0.1, 0.25, 1)`;
        reelInner.style.top = `-${spinDistance}px`;
        setTimeout(() => {
          reelInner.style.transition = 'none';
          reelInner.style.top = `-${stopPosition * itemHeight}px`;
          const result = reelInner.children[stopPosition].textContent;
          resolve(result);
        }, duration);
      });
    }
    async function spinAndPlay(playerChoice) {
      isSpinning = true;
      resultsDiv.textContent = 'Spinning...';
      const computerEmoji = await spin(3000);
      const computerChoice = Object.keys(choices).find(key => choices[key].emoji === computerEmoji);
      const result = getResult(playerChoice, computerChoice);
      updateScores(result);
      displayResult(result, playerChoice, computerChoice);
      isSpinning = false;
    }

    function getResult(playerChoice, computerChoice) {
      if (playerChoice === computerChoice) return 'draw';
      if (choices[playerChoice].wins.includes(computerChoice)) return 'win';
      return 'lose';
    }

    function updateScores(result) {
      if (result === 'win') playerScore++;
      else if (result === 'lose') computerScore++;
      playerScoreSpan.textContent = playerScore;
      computerScoreSpan.textContent = computerScore;
    }

    function displayResult(result, playerChoice, computerChoice) {
      const resultText = result === 'win' ? 'You win!' :
        result === 'lose' ? 'You lose!' :
        "It's a draw!";
      resultsDiv.textContent = `${resultText} ${choices[playerChoice].emoji} vs ${choices[computerChoice].emoji}`;
    }
  </script>
</body>

</html>
